def polyalphabetic_encrypt(text, key):
    text = text.upper()
    key = key.upper()
    result = ""
    j = 0   # index for key
    for ch in text:
        if ch.isalpha():
            shift = ord(key[j % len(key)]) - ord('A')
            new_char = chr((ord(ch) - ord('A') + shift) % 26 + ord('A'))
            result += new_char
            j += 1   # move to next key letter
        else:
            result += ch   # keep spaces/symbols
    return result
message = input("Enter plaintext: ")
key = input("Enter key: ")
cipher = polyalphabetic_encrypt(message, key)
print("\nEncrypted Text:", cipher)
